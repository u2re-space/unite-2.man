@.cursor/plans/tasks/task-NNN.md
@path/to/file.go

## Выполни задачу из task-NNN.md

Прочитай задачу и выполни рефакторинг.

### Принципы:
- Не меняй поведение — только структуру кода
- Каждое изменение должно быть атомарным и проверяемым
- Если добавляешь новые методы — добавь тесты

### Типичные задачи рефакторинга:
- Валидация входных параметров (добавить методы Validate())
- Разбить большую функцию на мелкие
- Устранить дублирование кода
- Переименовать для ясности
- Вынести константы и magic numbers

Создай ТОЛЬКО изменённые файлы + тест если появилась новая логика.
НЕ создавай: REFACTOR*.md, SUMMARY*.md, CHECKLIST*.md

После:
```bash
go build ./...
go test ./...
bash .cursor/scripts/bash/snapshot-state.sh
git commit -m "[commit из задачи]"
```

После: "✅ Рефакторинг выполнен: [одна строка]"

МОДЕЛЬ: Haiku С thinking
СТОИМОСТЬ: ~$0.10-0.20
РЕЖИМ: Agent Mode
