@.cursor/context/base.md

## Задача: Глубокий анализ проекта

Сначала выполни и используй вывод как контекст:
```bash
bash .cursor/scripts/bash/analyze-project-structure.sh
bash .cursor/scripts/bash/find-todos.sh
```

Для каждого файла >50 строк создай карту:

1. **Функции** — список с ~строкой начала
2. **Оценка 0-10** — обработка ошибок, тесты, читаемость, архитектура
3. **Проблемы:**
   - [КРИТИЧНО] утечки, игнорирование ошибок, nil pointer, гонки
   - [ВАЖНО] дублирование, функции >50 строк
   - [МЕЛКО] стиль, именование

Сохрани в `.cursor/analysis/project-map.md`:
```markdown
# Project Map
Создан: [дата]

## [файл.go] — X строк | оценка Y/10

### Функции:
- `FuncName` (~строка X) — что делает

### Проблемы:
- [КРИТИЧНО] описание
- [ВАЖНО] описание

---
```

НЕ создавай другие файлы.
После: "✅ Анализ: файлов X, критичных проблем Y"

МОДЕЛЬ: Opus + max thinking
СТОИМОСТЬ: ~$1.50-3.00 (один раз!)
РЕЖИМ: Agent Mode
