@.cursor/context/base.md

## Выполни следующую задачу из плана

### Шаг 1: Найди следующую задачу
```bash
grep -m 1 '^\- \[ \]' .cursor/plans/optimization-plan.md
```
Эта команда вернёт первую незавершённую строку, например:
`- [ ] task-003 — название (03-fix-simple-bug, Haiku, ~$0.03)`

Извлеки номер задачи из этой строки: `task-003`

### Шаг 2: Прочитай файл задачи
```bash
cat .cursor/plans/tasks/task-003.md
```
(используй реальный номер из шага 1)

### Шаг 3: Прочитай промпт задачи
Возьми значение поля "Промпт" из файла задачи и прочитай его:
```bash
cat .cursor/scripts/prompts/03-fix-simple-bug.txt
```
(используй реальное имя промпта из поля "Промпт" в задаче)

### Шаг 4: Прочитай целевой файл кода
```bash
cat src/mascot/service.go
```
(используй реальный путь из поля "Файл" в задаче)

### Шаг 5: Выполни
Следуй инструкциям из промпта (шаг 3).
Используй детали из файла задачи (шаг 2): файл, функция, проблема, решение.

### Шаг 6: Зафиксируй
```bash
bash .cursor/scripts/bash/snapshot-state.sh
git commit -m "[значение поля Commit из задачи]"
```

### Шаг 7: Закрой задачу
```bash
mv .cursor/plans/tasks/task-003.md .cursor/plans/done/task-003.md
```
(используй реальный номер)

Обнови `optimization-plan.md` — перенеси строку из "Очередь" в "Выполнено", поставь ✅ и дату.

Проверь следующую задачу — если её файл или функция изменились
согласно `changes.md`, обнови ТОЛЬКО её файл в tasks/.

```bash
git add .cursor/plans/
git commit -m "chore: complete task-003"
```

После: "✅ task-003 завершена: [одна строка]. Следующая: task-004 — [название]"

МОДЕЛЬ: смотри поле "Модель" в файле задачи
РЕЖИМ: Agent Mode
