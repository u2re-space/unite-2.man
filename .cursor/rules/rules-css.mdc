---
globs: *.scss,*.css
alwaysApply: false
---

# Styling / CSS / SCSS Guidelines for Cursor

## General Behavior

- Infer styling from **actual code context** (HTML/JSX structure, components, framework, design system) and propose **realistic, context-aware** styles, not generic examples.
- When suggesting style changes:
  - Clarify **why** they are useful (UX, readability, responsiveness, accessibility, performance, consistency, etc.).
  - Preserve the existing CSS architecture (BEM, utility-first, CSS Modules, CSS-in-JS, etc.) whenever it’s detectable.
- Prefer **modern CSS** where it is supported, but:
  - If a feature is very new or has limited support, provide **fallbacks** or safer alternatives.
  - Clearly label experimental/low-support features and, when relevant, reference specs or support info (MDN, caniuse, chromestatus).

---

## Modern CSS / SCSS Features

- Actively use:
  - `calc()`, `min()`, `max()`, `clamp()` and other supported math functions when they simplify layout and responsiveness.
  - Logical properties and values (`inline-size`, `block-size`, `margin-inline`, `padding-block`, `inset`, etc.) instead of physical ones (`left`, `right`, `top`, `bottom`, `width`, `height`) where appropriate.
  - Relative units (`rem`, `em`, `vh`, `vw`, `svh`, `lvh`, `dvh`, `ch`, `ex`, `lh`, `rlh`) and modern patterns for responsive typography and layout.
- Prefer using:
  - `@property` for registering custom properties in animations or complex theming, when support is acceptable; otherwise suggest a robust fallback.
  - Modern selectors and features: `:is()`, `:where()`, `:has()`, `:focus-visible`, `:focus-within`, `:user-invalid`, and media features like `prefers-reduced-motion`, `prefers-color-scheme`, `prefers-contrast`, etc.
- SCSS usage:
  - Feel free to wrap CSS in SCSS for simplification and clarity (variables, mixins, functions, nesting, `@use`, `@forward`, `@mixin`, `@include`, etc.).
  - Use nesting where it improves readability, but avoid overly deep chains (generally no more than 3 levels without a strong reason).
  - Avoid overly specific selectors that hurt maintainability and performance.

---

## Architecture & Code Style

- Respect the **existing CSS architecture**:
  - If the project uses **BEM**, keep using it (`block__element--modifier` naming).
  - If a **utility-first** style (Tailwind-like) is present, avoid duplicating utilities in separate style rules without clear benefit.
  - If **CSS Modules / scoped CSS** are used, suggest class names and selector scoping consistent with that approach.
- Aim for:
  - Low and predictable selector specificity (prefer classes; avoid unnecessary IDs and `!important`).
  - Minimal duplication of rules and values; suggest refactoring to variables/mixins where appropriate.
  - Consistent naming for variables, mixins, and placeholder selectors (`%placeholder` in SCSS).
- When introducing new variables (CSS or SCSS):
  - Group them semantically: colors, typography, spacing, radii, z-indexes, breakpoints, etc.
  - Prefer **semantic names** (`--color-primary`, `--space-xs`, `--radius-lg`) over raw visual names (`--blue`, `--red2`).

---

## Layout, Responsiveness & Adaptivity

- Design with responsiveness in mind:
  - Follow the project’s existing strategy (mobile-first or desktop-first). If unclear, prefer **mobile-first**.
  - Reuse existing breakpoints if defined; otherwise suggest reasonable defaults and keep them DRY (variables or mixins).
- Use modern layout tools:
  - Flexbox and Grid for structure; `gap` for spacing between items when appropriate.
  - `aspect-ratio`, `object-fit`, and `object-position` for images and media.
  - Container queries (`@container`) when they are already in use and supported for the target browsers, and provide a simpler fallback layout when possible.
- For complex layouts:
  - First suggest a **simple, robust baseline**, then an enhanced version with more advanced features and clear notes about browser support.

---

## Performance & Maintainability

- Avoid:
  - Excessively deep selector nesting.
  - Broad global styles that may unintentionally affect unrelated components (especially in component-based frameworks).
  - Overuse of heavy visual effects (large box-shadows, complex filters) and expensive animations, particularly on mobile.
- For animations and transitions:
  - Prefer animating `transform` and `opacity`; avoid layout-affecting properties (`width`, `height`, `top`, `left`) when possible.
  - Consider `prefers-reduced-motion` and provide simplified or disabled animations for users who opt out of motion.
- If a suggestion may have **performance impact** (e.g., blur filters, large shadows, many simultaneous animations), call that out explicitly and, when possible, propose a lighter alternative.

---

## Accessibility (A11y) & UX

- Always consider accessibility when styling:
  - Ensure text and interactive elements have sufficient color contrast (aim for WCAG AA or better).
  - Provide clear visual states for `:focus`, `:focus-visible`, `:hover`, `:active`, `:disabled` and respect non-pointer devices.
  - Do not remove `outline` without an accessible replacement that preserves keyboard navigation clarity.
- For motion and visual effects:
  - Avoid strong flashing, excessive motion, or parallax that might trigger discomfort.
  - Use `@media (prefers-reduced-motion: reduce)` to reduce or disable non-essential animations.

---

## Theming (Light / Dark / High Contrast)

- For theming:
  - Use CSS Custom Properties (`var(--...)`) for colors, typography tokens, radii, shadows, and other reusable visual values.
  - Support dark mode via `@media (prefers-color-scheme: dark)` or via a root class/attribute (e.g. `.theme-dark` or `data-theme="dark"`), following the project’s existing pattern.
  - Consider `prefers-contrast` (e.g. `@media (prefers-contrast: more)`) to provide higher-contrast variants when appropriate.
- Keep theme tokens **semantic** (e.g. `--color-bg-surface`, `--color-text-muted`) rather than hard-coded color names.

---

## Integration with Project Configs

- Make use of project configuration files to better understand context:
  - `tsconfig.*`: respect path aliases and base directories when referencing assets or modules.
  - `package.json`: note frameworks, CSS/SCSS tooling, PostCSS, autoprefixer, linters, and formatters in use.
  - `vite.config.*` (or other bundler configs): follow existing aliases, CSS/SCSS options, global style imports, PostCSS plugins, etc.
- When external styling systems are in use:
  - E.g. PostCSS plugins, CSS-in-JS, design systems, or UI libraries — follow their conventions and constraints (naming, tokens, layers, etc.) instead of inventing conflicting patterns.

---

## Design concepts

**Inspired by:**
- <https://phosphoricons.com/>
- <https://m3.material.io/>
- <https://fonts.google.com/icons> (in future use)

**Main library:** `fest/veela`
- <https://github.com/fest-live/veela.css>

---

## References / Specs

### CSS General

- <https://drafts.csswg.org/>
- <https://www.w3.org/TR/css/>
- <https://github.com/w3c/csswg-drafts>

### CSS Custom Properties (Variables)

- <https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties>
- <https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables>

### Selected Draft Specifications

- <https://drafts.csswg.org/web-animations/>
- <https://drafts.csswg.org/css-mixins/>
- <https://drafts.csswg.org/css-values-5/>
- <https://drafts.csswg.org/css-color-5/>
- <https://drafts.csswg.org/css-color-6/>
- <https://drafts.css-houdini.org/css-properties-values-api/>
- <https://drafts.csswg.org/css-2025/>
- <https://www.w3.org/TR/css-2025/>

### SCSS & General CSS Resources

- <https://sass-lang.com/documentation/>
- <https://css-tricks.com/>
- <https://phosphoricons.com/>
- <https://m3.material.io/>
- <https://fonts.google.com/icons> (in future use)

### Browser Support & Status

- <https://chromestatus.com/>
- <https://caniuse.com/>
